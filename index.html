<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lab 3: Randomizer · Bayon Edition (Basic)</title>
  <style>
    :root{
      --ink:#111; --bg:#0b0b0b; --brand:#06b6d4; --accent:#ff5722;
      --panel:#ffffffcc; --soft:#ffffff99;
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{ margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif; background:var(--bg); color:#fff }

    header{ position:sticky; top:0; z-index:10; backdrop-filter:saturate(1.2) blur(6px);
      background:linear-gradient(90deg, #000000e6, #00000066); color:#fff; padding:14px 18px; border-bottom:1px solid #ffffff22 }
    header h1{ margin:0; font-size:clamp(18px,3.5vw,30px); letter-spacing:.3px }
    header .meta{ display:flex; gap:14px; align-items:center; margin-top:6px; font-size:12px; color:#ffffffcc }

    main{ max-width:1200px; margin:18px auto 64px; padding:0 16px }

    .stage-wrap{ position:relative; border-radius:14px; overflow:hidden; box-shadow:0 12px 40px #00000080; border:1px solid #ffffff1f }
    .bayon-bg{
      position:absolute; inset:0;
      background:
        radial-gradient(1200px 600px at 50% 50%, #0000 0%, #0006 55%, #000c 100%),
        conic-gradient(from 0deg, #0b1728, #092235, #0f2a3f, #0f354a, #0b1728);
      filter: saturate(1.05) contrast(1.05) brightness(0.9);
      animation: hueShift 22s linear infinite;
    }
    @keyframes hueShift{
      0%   { filter: hue-rotate(0deg)   saturate(1.05) contrast(1.05) brightness(0.9); }
      50%  { filter: hue-rotate(40deg)  saturate(1.15) contrast(1.08) brightness(0.95); }
      100% { filter: hue-rotate(0deg)   saturate(1.05) contrast(1.05) brightness(0.9); }
    }
    .overlay-tint{ position:absolute; inset:0; background:transparent; pointer-events:none }

    .stage{ position:relative; min-height:560px; overflow:hidden; touch-action:none; }
    /* Canvas fills the stage neatly */
    #stage canvas{ display:block; width:100% !important; height:100% !important }

    footer{ max-width:1200px; margin:20px auto 40px; padding:0 16px; color:#ddd }
    footer h3{ margin:28px 0 10px; font-size:16px; color:#fff }
    footer a{ color:#9ee7ff; text-decoration:none }
    footer a:hover{ text-decoration:underline }
    footer ul{ margin:0; padding-left:18px }
    footer li{ margin:6px 0 }
  </style>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.min.js"></script>
</head>

<body>
  <header>
    <h1>Lab 3: Randomizer — Bayon Edition (Basic)</h1>
    <div class="meta">
      <span>Inputs: click · tap</span>
      <span>Effects: stars + random planets</span>
    </div>
  </header>

  <main>
    <section class="stage-wrap" aria-label="Interactive stage with animated gradient background">
      <div class="bayon-bg" aria-hidden="true"></div>
      <div class="overlay-tint" aria-hidden="true"></div>

      
      <article id="stage" class="stage" role="application" aria-label="p5 canvas container"></article>
    </section>
  </main>

  <footer>
    <p>Built for the “Randomness” assignment — fireworks in space, but make it simple.</p>
    <h3>References</h3>
    <ul>
      <li>Assignment brief (Randomness) & course notes</li>
      <li><a href="https://archive.p5js.org/examples/" target="_blank" rel="noopener">p5.js – Interaction &amp; drawing examples</a></li>
      <li><a href="https://p5js.org/reference/" target="_blank" rel="noopener">p5.js Reference (events, input, color)</a></li>
      <li><a href="https://thecodingtrain.com/tracks/the-nature-of-code-2" target="_blank" rel="noopener">The Coding Train — Nature of Code 2 (Dan Shiffman)</a></li>
      <li><a href="https://thecodingtrain.com/challenges/" target="_blank" rel="noopener">The Coding Train — Coding Challenges (particle systems, forces)</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events" target="_blank" rel="noopener">MDN — Pointer Events</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/conic-gradient" target="_blank" rel="noopener">MDN — CSS Conic Gradients</a></li>
      <li><a href="https://generativeartistry.com/" target="_blank" rel="noopener">Generative Artistry — patterns &amp; techniques</a></li>
      <li><a href="https://tympanus.net/codrops/" target="_blank" rel="noopener">Codrops — UI experiments &amp; motion ideas</a></li>
      <li><a href="https://codehs.com/tutorial/rachel/mouse-events-in-javascript" target="_blank" rel="noopener">CodeHS — Mouse Events in JavaScript</a></li>
      <li><a href="https://www.w3schools.com/jsref/obj_mouseevent.asp" target="_blank" rel="noopener">W3Schools — MouseEvent Object</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events" target="_blank" rel="noopener">MDN — CSS pointer-events</a></li>
      <li><a href="https://happycoding.io/tutorials/p5js/creating-classes/fireworks" target="_blank" rel="noopener">Happy Coding — p5.js Fireworks</a></li>
    </ul>
  </footer>

  <script>



    let bgColor;
    let planets = [];
    const planetNames = ["LV-426", "LV-22", "Planet 4", "Jackson Star", "Kalisk", "BG-386", "Nibiru", "Earth", "Bulli Sot"];


    const stars = [];
    const STAR_COUNT = 120;

    function setup(){

      const stageEl = document.getElementById('stage');
      const { width, height } = stageEl.getBoundingClientRect();
      const cnv = createCanvas(width, height);
      cnv.parent('stage');

      bgColor = color(10, 10, 80); // navy sky
      noStroke();


      for(let i=0;i<STAR_COUNT;i++){
        stars.push({
          x: random(width),
          y: random(height),
          r: random(1,3),
          base: random(180,255),
          speed: random(0.01, 0.05),
          phase: random(TWO_PI)
        });
      }


      for(let i=0;i<5;i++){
        planets.push(new Planet(random(width), random(height), random(30,60)));
      }
    }

    function draw(){
      background(bgColor);

     
      for(const s of stars){
        const twinkle = sin(frameCount * s.speed + s.phase) * 30;
        fill(constrain(s.base + twinkle, 150, 255));
        circle(s.x, s.y, s.r);
      }

      
      for(const p of planets) p.display();

 
      drawLabel("Click or tap to create a random planet", 12, height - 16);
    }

    function mousePressed(){
      addPlanet(mouseX, mouseY);
    }

    
    function touchStarted(){
      addPlanet(mouseX, mouseY);
 
      

      return false;
    }

    function addPlanet(x, y){
      if (x>=0 && x<=width && y>=0 && y<=height){
        planets.push(new Planet(x, y, random(20, 70)));
      }
    }

    class Planet{
      constructor(x, y, r){
        this.x = x;
        this.y = y;
        this.r = r;
        this.c = color(random(50,200), random(50,200), random(50,200));
        this.name = random(planetNames);
      


        this.drift = createVector(random(-0.15,0.15), random(-0.1,0.1));
      }
      display(){
      

        this.x = (this.x + this.drift.x + width) % width;
        this.y = (this.y + this.drift.y + height) % height;

        fill(this.c);
        circle(this.x, this.y, this.r);
        fill(255);
        textSize(12);
        textAlign(CENTER);
        text(this.name, this.x, this.y + this.r/2 + 14);
      }
    }

  
    function drawLabel(msg, x, y){
      textSize(14);
      textAlign(LEFT, BASELINE);
      fill(0,160); text(msg, x+1, y+1);
      fill(255);   text(msg, x, y);
    }

    
    function windowResized(){
      const stageEl = document.getElementById('stage');
      const { width, height } = stageEl.getBoundingClientRect();
      resizeCanvas(width, height);
 

      
      for(const s of stars){
        s.x = constrain(s.x, 0, width);
        s.y = constrain(s.y, 0, height);
      }
    }
  </script>
</body>
</html>
